# =====================================================
# Lightweight GitHub MCP Configuration File
# =====================================================

# Whitelist of tools to expose
# Only tools listed here will be exposed to Claude
# Meta-tools (list_all_upstream_tools, list_blocked_tools,
# search_upstream_tools, get_tool_info) are always available
allowedTools:
  # ----- Repository Operations -----
  - get_file_contents

  # ----- Issue Operations -----
  - issue_read           # Get issue details (get_issue)
  - issue_write          # Create/update issues (create_issue, update_issue)
  - list_issues
  - add_issue_comment
  - search_issues
  - sub_issue_write      # Add sub-issues (add_sub_issue)

  # ----- Pull Request Operations -----
  - create_pull_request
  - list_pull_requests
  - pull_request_read    # Get PR details (get_pull_request)
  - pull_request_review_write  # Create/submit reviews (create_and_submit_pull_request_review)
  - merge_pull_request
  - update_pull_request
  - update_pull_request_branch
  - search_pull_requests
  - request_copilot_review

  # ----- Branch Operations -----
  - create_branch

  # ----- User Operations -----
  - get_me

# Upstream MCP server configuration
# Using github/github-mcp-server (Go-based official GitHub MCP)
# https://github.com/github/github-mcp-server
upstream:
  # Execution command (Docker)
  command: docker
  # Command arguments
  args:
    - "run"
    - "-i"
    - "--rm"
    - "-e"
    - "GITHUB_PERSONAL_ACCESS_TOKEN"
    - "ghcr.io/github/github-mcp-server"
